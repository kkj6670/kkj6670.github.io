---
    title: ES2020 / ECMAScript 2020
    date: 2021-11-10 18:28
    tag: ["ES", "ECMAScript"]
---

## optional chaining
ê°ì²´ì˜ undefined ì²´í¬ì‹œ ì—¬ëŸ¬ë²ˆ í•´ì•¼í•˜ëŠ” ê²½ìš°ê°€ ìƒê¸°ëŠ”ë° ì•„ë˜ì²˜ëŸ¼ ì‚¬ìš©í•˜ë©´ ê°€ë…ì„±ë„ í–¥ìƒë˜ê³  ê°„ë‹¨í•˜ê²Œ ì‚¬ìš©ì´ ê°€ëŠ¥í•˜ë‹¤.
```javascript
const data = {
  board: {
    title: 'title'
  }
};

// before
const title = data && data.board && data.board.title

// after
const title = data?.board?.title

// ë°°ì—´ì—ì„œë„ ì‚¬ìš©ì´ ê°€ëŠ¥í•˜ë‹¤.
const list = [
  ['1', '2'],
];

const one = list?.[0]?.[1];
const two = list?.[0]?.[2];
```

## matchAll
ë¬¸ìì—´ì—ì„œ ì¼ì¹˜í•˜ëŠ” ì •ê·œì‹ì„ iteratior í˜•íƒœë¡œ ë°˜í™˜. ê¸°ì¡´ matchì™€ ì‚¬ìš©ë²•ì€ ë™ì¼
```javascript
// 1. ì •ê·œí‘œí˜„ì‹ - for of ì‚¬ìš©ë²•
const str = 'abca';
const result = str.matchAll(/a/g);
for (const item of result) {
  console.log(item)
}
/*
  ['a', index: 0, input: 'abca', groups: undefined]
  ['a', index: 3, input: 'abca', groups: undefined]
*/

// 2. ë¬¸ìì—´ - next ì‚¬ìš©ë²•
const str = 'abca';
const result = str.matchAll('a');
result.next(); // { value: ['a', index: 1, input: 'abca', groups: undefinded], done: false }
result.next(); // { value: ['a', index: 3, input: 'abca', groups: undefinded], done: false }
result.next(); // { value: undefined, done: true }
```


## Promise.allSettled
ê¸°ì¡´ Promise.all ì‚¬ìš©ì‹œ í•˜ë‚˜ì˜ promiseë¼ë„ rejectê°€ ëœë‹¤ë©´ ë‚˜ë¨¸ì§€ëŠ” ì²˜ë¦¬ê°€ ë¶ˆê°€ëŠ¥í•˜ë‹¤.

allSettledë¥¼ ì‚¬ìš©í•˜ë©´ ê°ê°ì˜ promiseë“¤ì„ ê´€ë¦¬í• ìˆ˜ ìˆë‹¤
```javascript
const promiseList = [
  fetch("url1").then(data => data.json()),
  fetch("url2").then(data => data.json())
];
Promise.allSettled(promiseList)
  .then(results  => {
    // resultsì— url1, url2ì˜ ì²˜ë¦¬ ê²°ê³¼ì— ëŒ€í•œ ë‚´ìš©ì´ ë°°ì—´ë¡œ ë‹´ê²¨ìˆë‹¤.
    console.log(results);
  });
```

## globalThis
Javascript ìµœìƒìœ„ ê°ì²´ global ê°ì²´ì— ì ‘ê·¼í•˜ê¸° ìœ„í•´ ì¶”ê°€ëœ ë°©ì‹

ë¸Œë¼ìš°ì €ì—ì„œëŠ” window, node.js ì—ì„œëŠ” globalê°ì²´ë¥¼ ì‚¬ìš©í•˜ê¸°ë•Œë¬¸ì— ì¶”ê°€ëœê²ƒìœ¼ë¡œ ë³´ì¸ë‹¤.
```javascript
//ë¸Œë¼ìš°ì € ì‹¤í–‰ í™˜ê²½ ê¸°ì¤€
globalThis === window // true;

//Node ì‹¤í–‰ í™˜ê²½ ê¸°ì¤€
globalThis === global // true;
```

## null ë³‘í•© ì—°ì‚°ì (Nullish coalescing Operator)
ì™¼ìª½ í”¼ì—°ì‚°ì ê°’ì´ nullì´ë‚˜ undefinedì¼ ê²½ìš°ì—ë§Œ ì˜¤ë¥¸ìª½ê°’ ë°˜í™˜
```javascript

// || ì—°ì‚°ì
const A1 = '' || 'default value' // 'default value'

// ?? ì—°ì‚°ì ì˜¤ì§ null, undefined ì¼ë•Œë§Œ
const A2 = '' ?? 'default value' // ''
const A3 = null ?? 'default value' // 'default value'
const A4 = undefined ?? 'default value' // 'default value'
```

## Dynamic import
importë¬¸ì„ ë¹„ë™ê¸°ì ìœ¼ë¡œ ì²˜ë¦¬í• ë•Œ ì‚¬ìš©
```javascript
// then
import('/module.js')
  .then((module) => {
    module.default();
  });

// async/await
(async () => {
  const moduleUrl = '/module.js';
  const module = await import(moduleUrl)
  const total = module.sum(2, 2);
})();
```

## BigInt
Number.MAX_SAFE_INTEGER ì œí•œì—†ì´ ì‚¬ìš©ì´ ê°€ëŠ¥í•˜ë‹¤.
```javascript
Number.MAX_SAFE_INTEGER
// 9007199254740991

Number.MAX_SAFE_INTEGER + 10 -10
// 9007199254740990 ğŸ‘

BigInt(Number.MAX_SAFE_INTEGER) + 10n -10n
// 9007199254740991n ğŸ‘
```