{"pageProps":{"title":"부모 컴포넌트에서 자식 컴포넌트 함수 사용하기 ( useImperativeHandle, forwardRef )","description":"개발을 하다보니 부모컴포넌트에서 자식 컴포넌트에 있는 input에 접근하여 사용해야할 일이 생겼다.생각해보니 그동안 개발하면서 이렇게 사용할일이 없었어가지고 어떻게 해야할지 고민하다가 google의 힘을 빌려 진행했고 정리를 안해놓으면 나중에 까먹을꺼 같아서 정리해보았다. 사용","mdxSource":{"compiledSource":"var u=Object.defineProperty,d=Object.defineProperties;var f=Object.getOwnPropertyDescriptors;var c=Object.getOwnPropertySymbols;var n=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable;var s=(e,a,r)=>a in e?u(e,a,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[a]=r,o=(e,a)=>{for(var r in a||(a={}))n.call(a,r)&&s(e,r,a[r]);if(c)for(var r of c(a))p.call(a,r)&&s(e,r,a[r]);return e},h=(e,a)=>d(e,f(a));var l=(e,a)=>{var r={};for(var t in e)n.call(e,t)&&a.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&c)for(var t of c(e))a.indexOf(t)<0&&p.call(e,t)&&(r[t]=e[t]);return r};const layoutProps={},MDXLayout=\"wrapper\";function MDXContent(r){var t=r,{components:e}=t,a=l(t,[\"components\"]);return mdx(MDXLayout,h(o(o({},layoutProps),a),{components:e,mdxType:\"MDXLayout\"}),mdx(\"p\",null,\"\\uAC1C\\uBC1C\\uC744 \\uD558\\uB2E4\\uBCF4\\uB2C8 \\uBD80\\uBAA8\\uCEF4\\uD3EC\\uB10C\\uD2B8\\uC5D0\\uC11C \\uC790\\uC2DD \\uCEF4\\uD3EC\\uB10C\\uD2B8\\uC5D0 \\uC788\\uB294 input\\uC5D0 \\uC811\\uADFC\\uD558\\uC5EC \\uC0AC\\uC6A9\\uD574\\uC57C\\uD560 \\uC77C\\uC774 \\uC0DD\\uACBC\\uB2E4.\"),mdx(\"p\",null,\"\\uC0DD\\uAC01\\uD574\\uBCF4\\uB2C8 \\uADF8\\uB3D9\\uC548 \\uAC1C\\uBC1C\\uD558\\uBA74\\uC11C \\uC774\\uB807\\uAC8C \\uC0AC\\uC6A9\\uD560\\uC77C\\uC774 \\uC5C6\\uC5C8\\uC5B4\\uAC00\\uC9C0\\uACE0 \\uC5B4\\uB5BB\\uAC8C \\uD574\\uC57C\\uD560\\uC9C0 \\uACE0\\uBBFC\\uD558\\uB2E4\\uAC00 google\\uC758 \\uD798\\uC744 \\uBE4C\\uB824 \\uC9C4\\uD589\\uD588\\uACE0 \\uC815\\uB9AC\\uB97C \\uC548\\uD574\\uB193\\uC73C\\uBA74 \\uB098\\uC911\\uC5D0 \\uAE4C\\uBA39\\uC744\\uAEBC \\uAC19\\uC544\\uC11C \\uC815\\uB9AC\\uD574\\uBCF4\\uC558\\uB2E4.\"),mdx(\"h2\",null,\"\\uC0AC\\uC6A9\\uD55C \\uAE30\\uB2A5\"),mdx(\"p\",null,\"\\uAE30\\uB2A5\\uC744 \\uAD6C\\uD604\\uD558\\uAE30 \\uC704\\uD574\\uC11C\\uB294 \\uC77C\\uB2E8 useImperativeHandle hook\\uACFC React.forwardRef \\uAE30\\uB2A5\\uC744 \\uC0AC\\uC6A9\\uD574\\uC57C \\uD55C\\uB2E4. \\uC544\\uB798\\uC758 \\uACF5\\uC2DD\\uBB38\\uC11C\\uB97C \\uCC38\\uACE0\\uD558\\uC5EC \\uAE30\\uB2A5\\uC744 \\uAD6C\\uD604 \\uD588\\uB2E4.\"),mdx(\"p\",null,\"\\uACF5\\uC2DD\\uBB38\\uC11C \\uCC38\\uACE0\"),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},\"useImperativeHandle (\",mdx(\"a\",o({parentName:\"li\"},{href:\"https://ko.reactjs.org/docs/hooks-reference.html#useimperativehandle\"}),\"https://ko.reactjs.org/docs/hooks-reference.html#useimperativehandle\"),\")\"),mdx(\"li\",{parentName:\"ul\"},\"forwardRef (\",mdx(\"a\",o({parentName:\"li\"},{href:\"https://ko.reactjs.org/docs/react-api.html#reactforwardref\"}),\"https://ko.reactjs.org/docs/react-api.html#reactforwardref\"),\")\")),mdx(\"h2\",null,\"\\uC790\\uC2DD \\uCEF4\\uD3EC\\uB10C\\uD2B8 \\uC608\\uC81C\"),mdx(\"pre\",null,mdx(\"code\",o({parentName:\"pre\"},{className:\"language-typescript\"}),`// 1. typescript \\uC0AC\\uC6A9\\uC2DC \\uD574\\uB2F9 ref\\uC758 type \\uC9C0\\uC815\n// \\uBD80\\uBAA8\\uCEF4\\uD3EC\\uB10C\\uD2B8\\uC5D0\\uC11C\\uB3C4 \\uC0AC\\uC6A9\\uD558\\uAE30\\uC704\\uD574 export\\uB97C \\uD588\\uC74C.\nexport interface ISearchHandle {\n  focus: () => void;\n}\n\n// 2. \\uD568\\uC218 \\uC0DD\\uC131\\uC2DC forwardRef\\uB97C \\uC0AC\\uC6A9\nconst BoardSearch = forwardRef<ISearchHandle>((props, ref) => {\n  const [searchText, setSearchText] = useState('');\n  const inputRef = useRef<HTMLInputElement>(null);\n\n  const handleInput = useCallback(\n    (e: React.ChangeEvent<HTMLInputElement>) => {\n      const { value } = e.target;\n      setSearchText(value);\n    },\n    [setSearchText],\n  );\n    \n  // 3. \\uBD80\\uBAA8\\uCEF4\\uD3EC\\uB10C\\uD2B8\\uC5D0\\uC11C \\uC0AC\\uC6A9\\uD560 \\uD568\\uC218\\uB4E4\\uC758 \\uAE30\\uB2A5\\uC744 \\uC0DD\\uC131\\uD574\\uC90C.\n  useImperativeHandle(\n    ref,\n    () => ({\n      focus() {\n        inputRef?.current?.focus();\n      },\n    }),\n    [clearSearchText, inputRef],\n  );\n\n  return (\n    <SearchBox>\n      <input\n        ref={inputRef}\n        id='boardSearch'\n        type='text'\n        placeholder='Search...'\n        onInput={handleInput}\n        value={searchText}\n      />\n    </SearchBox>\n  );\n});\n\n// 4. forwardRef\\uB97C \\uC0AC\\uC6A9\\uD560\\uACBD\\uC6B0 eslint\\uC5D0\\uC11C \\uC5D0\\uB7EC\\uAC00 \\uC0DD\\uAE40\nBoardSearch.displayName = 'BoardSearch';\n`)),mdx(\"h2\",null,\"\\uBD80\\uBAA8 \\uCEF4\\uD3EC\\uB10C\\uD2B8 \\uC608\\uC81C\"),mdx(\"pre\",null,mdx(\"code\",o({parentName:\"pre\"},{className:\"language-typescript\"}),`import BoardSearch, { ISearchHandle } from '../board/BoardSearch';\n\nconst Header = function () {\n  // 1. ref\\uC0DD\\uC131\n  const handleSearchRef = useRef<ISearchHandle>(null);\n\n  const handleSearchOpen = useCallback(() => {\n    setTimeout(() => {\n      // 3. \\uC790\\uC2DD\\uCEF4\\uD3EC\\uB10C\\uD2B8\\uC5D0\\uC11C \\uC804\\uB2EC\\uBC1B\\uC740 \\uD568\\uC218 \\uC0AC\\uC6A9\n      handleSearchRef?.current?.focus();\n    }, 0);\n  }, [hideSideBar, handleSearchRef]);\n  \n  // 2. \\uC790\\uC2DD\\uCEF4\\uD3EC\\uB10C\\uD2B8\\uC5D0 ref\\uC804\\uB2EC\n  return <BoardSearch ref={handleSearchRef} />;\n};\n`)))}MDXContent.isMDXComponent=!0;\n","scope":{}}},"__N_SSG":true}